\documentclass{article}
\usepackage{hyperref}
\usepackage{lipsum}
\usepackage{fancyhdr}
\usepackage{../../apxproof}
\newtheoremrep{thm}{Theorem}[section]
\renewcommand{\appendixprelim}{\par\noindent\hrulefill\par}
\begin{document}
\tableofcontents
\pagestyle{fancy} % breaks if used before \tableofcontents.
\appendixprelim
\section{Hello world}
\lipsum[6]
\begin{thmrep}
  \lipsum[5]
\end{thmrep}
\section{Other  world}
\lipsum[4]
\begin{thmrep}
\lipsum[3]
\end{thmrep}
\begin{thmrep}
\lipsum[2]
\end{thmrep}
\begin{proof}
\lipsum[1]
\end{proof}
\end{document}


